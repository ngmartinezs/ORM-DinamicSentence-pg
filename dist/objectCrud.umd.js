!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){function n(n,e){try{var t=n()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}var e=require("./connectionDB");module.exports=function(){function t(){this.connectionDB=new e}var r=t.prototype;return r.consultar=function(e,t,r,o){try{var c=this;return Promise.resolve(function(i,u){try{var a=n(function(){var i=c.connectionDB.getConnection();return Promise.resolve(function(e,t,r,o){try{var c={name:"fetch-sql-meta-tables",text:"select column_name nombre_columna,\n                                  column_default valor_por_defecto,\n                                  ordinal_position orden,\n                                  data_type tipo_dato,\n                                  is_nullable es_nulable,\n                                  character_maximum_length longitud_char,\n                                  numeric_precision longitud_numerica,\n                                  numeric_precision_radix numero_decimales\n                          from information_schema.columns \n                          where table_catalog= $1 \n                          and table_schema = $2 \n                          and table_name = $3;",values:[t,r,o]};return Promise.resolve(n(function(){return Promise.resolve(e.query(c)).then(function(n){return lRetorno})},function(n){throw n}))}catch(n){return Promise.reject(n)}}(i,e,t,r)).then(function(n){var e=function(n,e,t,r){var o="SELECT ",c="",i=[];if(pMetaData&&r&&(n.forEach(function(n){0===contador?o+=n.nombre_columna:o=o+","+n.nombre_columna}),o=o+" FROM "+e+"."+t,Object.getOwnPropertyNames(r).forEach(function(n,e,t){r[n]&&(0===c.length?(c=" "+c+" WHERE "+n+" = $lIndiceFiltro ",i.push(r[n])):(c=" "+filtro+" AND "+n+" = $lIndiceFiltro ",i.push(r[n])))}),0!==c.length&&i.length>0))return{name:"fetch-sql-meta-tables",text:o+" "+c,values:i}}(n,t,r,o);return e?Promise.resolve(i.query(e)).then(function(n){return n?{CODIGO_RETORNO:0,MENSAJE_RETORNO:"OK",DATA:n.rows}:{CODIGO_RETORNO:1,MENSAJE_RETORNO:"No se encontro data",DATA:[]}}):{CODIGO_RETORNO:2,MENSAJE_RETORNO:"No se establecieron filtros de consulta correctos",DATA:[]}})},function(n){throw n})}catch(n){return u(!0,n)}return a&&a.then?a.then(u.bind(null,!1),u.bind(null,!0)):u(!1,a)}(0,function(n,e){return Promise.resolve(c.connectionDB.closeConnection()).then(function(){if(n)throw e;return e})}))}catch(n){return Promise.reject(n)}},r.insertar=function(n,e,t,r){return{CODIGO_RETORNO:0,MENSAJE_RETORNO:"OK",DATA:{}}},r.update=function(n,e,t,r){return{CODIGO_RETORNO:0,MENSAJE_RETORNO:"OK",DATA:{}}},r.delete=function(n,e,t,r){return{CODIGO_RETORNO:0,MENSAJE_RETORNO:"OK",DATA:{}}},t}()});
//# sourceMappingURL=objectCrud.umd.js.map
